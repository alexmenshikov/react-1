{"ast":null,"code":"import _objectSpread from\"/Users/alexmensikov/Documents/html:css/react-redux-test-1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/alexmensikov/Documents/html:css/react-redux-test-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Header from\"./components/Header\";import ProductList from\"./components/ProductList\";import{useMemo,useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// const [products, setProducts] = useState([\n//     {\n//         id: 1,\n//         title: \"Египет\",\n//         description: \"Идеальное место для дайвинга и прогулок по дюнам пустыни\",\n//         image: \"https://avatars.mds.yandex.net/i?id=9b0ca528054c34d068267eef5f8b6205-5876357-images-thumbs&n=13&exp=1\",\n//         price: 46250,\n//         favorite: false\n//     },\n//     {\n//         id: 2,\n//         title: \"Мексика\",\n//         description: \"Земля ацтеков и майя с древней культурой и пляжной идиллией\",\n//         image: \"https://avatars.mds.yandex.net/i?id=72fff16b94bbee6b5793e7a632518669-5855963-images-thumbs&n=13&exp=1\",\n//         price: 132000,\n//         favorite: false\n//     },\n//     {\n//         id: 3,\n//         title: \"Мальдивы\",\n//         description: \"Райские острова с подводными отелями и ресторанами\",\n//         image: \"https://avatars.mds.yandex.net/i?id=4d9cc6cf0be8372f08c3fc9606bde842-5875471-images-thumbs&n=13&exp=1\",\n//         price: 128950,\n//         favorite: false\n//     },\n//     {\n//         id: 4,\n//         title: \"Индонезия\",\n//         description: \"Тысячи островов для дайвинга, серфинга и райского наслаждения\",\n//         image: \"https://avatars.mds.yandex.net/i?id=578df9b7146f19a1b292a0d6a507a3c7-5876724-images-thumbs&n=13&exp=1\",\n//         price: 78964,\n//         favorite: false\n//     },\n//     {\n//         id: 5,\n//         title: \"Чехия\",\n//         description: \"Край лечебных вод и средневековых замков\",\n//         image: \"https://avatars.mds.yandex.net/i?id=bbdfea158bba86b10ea3ea7785dbe494-4965879-images-thumbs&n=13&exp=1\",\n//         price: 102130,\n//         favorite: false\n//     }\n// ]);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var apiUrl='https://fakestoreapi.com/products?limit=8';axios.get(apiUrl).then(function(resp){var allPersons=resp.data;setProducts(allPersons);setLoading(true);});},[setProducts]);var favoriteProduct=function favoriteProduct(product){var status=false;if(product.favorite){status=false;}else{status=true;}setProducts(products.map(function(item){return item.id===product.id?_objectSpread(_objectSpread({},item),{},{favorite:status}):item;}));};var removeProduct=function removeProduct(product){setProducts(products.filter(function(p){return p.id!==product.id;}));};var _useState5=useState({status:false}),_useState6=_slicedToArray(_useState5,2),filter=_useState6[0],setFilter=_useState6[1];var sortedProducts=useMemo(function(){if(filter.status===false){// console.warn(\"status 1 -\",filter.status);\nreturn products;}else{// console.warn(\"status 2 -\",filter.status);\nreturn products.filter(function(p){return p.favorite===filter.status;});}},[filter.status,products]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{filter:filter,setFilter:setFilter}),/*#__PURE__*/_jsx(ProductList,{remove:removeProduct,favorite:favoriteProduct,products:sortedProducts,loading:loading})]});}export default App;","map":{"version":3,"sources":["/Users/alexmensikov/Documents/html:css/react-redux-test-1/src/App.js"],"names":["Header","ProductList","useMemo","useState","useEffect","axios","App","products","setProducts","loading","setLoading","apiUrl","get","then","resp","allPersons","data","favoriteProduct","product","status","favorite","map","item","id","removeProduct","filter","p","setFilter","sortedProducts"],"mappings":"6RAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,OAAQC,OAAR,CAAiBC,QAAjB,CAA2BC,SAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAA8BL,QAAQ,CAAC,KAAD,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eAEAN,SAAS,CAAC,UAAM,CACZ,GAAMO,CAAAA,MAAM,CAAG,2CAAf,CACAN,KAAK,CAACO,GAAN,CAAUD,MAAV,EAAkBE,IAAlB,CAAuB,SAACC,IAAD,CAAU,CAC7B,GAAMC,CAAAA,UAAU,CAAGD,IAAI,CAACE,IAAxB,CACAR,WAAW,CAACO,UAAD,CAAX,CACAL,UAAU,CAAC,IAAD,CAAV,CACH,CAJD,EAKH,CAPQ,CAON,CAACF,WAAD,CAPM,CAAT,CASA,GAAMS,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,OAAD,CAAa,CACjC,GAAIC,CAAAA,MAAM,CAAG,KAAb,CACA,GAAID,OAAO,CAACE,QAAZ,CAAsB,CAClBD,MAAM,CAAG,KAAT,CACH,CAFD,IAEO,CACHA,MAAM,CAAG,IAAT,CACH,CAEDX,WAAW,CACPD,QAAQ,CAACc,GAAT,CAAa,SAACC,IAAD,QACTA,CAAAA,IAAI,CAACC,EAAL,GAAYL,OAAO,CAACK,EAApB,gCACUD,IADV,MACgBF,QAAQ,CAAED,MAD1B,GAEMG,IAHG,EAAb,CADO,CAAX,CAOH,CAfD,CAiBA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACN,OAAD,CAAa,CAC/BV,WAAW,CAACD,QAAQ,CAACkB,MAAT,CAAgB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACH,EAAF,GAASL,OAAO,CAACK,EAArB,EAAjB,CAAD,CAAX,CACH,CAFD,CAIA,eAA4BpB,QAAQ,CAAC,CAACgB,MAAM,CAAE,KAAT,CAAD,CAApC,yCAAOM,MAAP,eAAeE,SAAf,eAEA,GAAMC,CAAAA,cAAc,CAAG1B,OAAO,CAAC,UAAM,CACjC,GAAGuB,MAAM,CAACN,MAAP,GAAkB,KAArB,CAA4B,CACxB;AACA,MAAOZ,CAAAA,QAAP,CACH,CAHD,IAGO,CACH;AACA,MAAOA,CAAAA,QAAQ,CAACkB,MAAT,CAAgB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACN,QAAF,GAAeK,MAAM,CAACN,MAA1B,EAAjB,CAAP,CACH,CACJ,CAR6B,CAQ3B,CAACM,MAAM,CAACN,MAAR,CAAgBZ,QAAhB,CAR2B,CAA9B,CAUA,mBACI,aAAK,SAAS,CAAC,KAAf,wBACI,KAAC,MAAD,EAAQ,MAAM,CAAEkB,MAAhB,CAAwB,SAAS,CAAEE,SAAnC,EADJ,cAGI,KAAC,WAAD,EAAa,MAAM,CAAEH,aAArB,CAAoC,QAAQ,CAAEP,eAA9C,CAA+D,QAAQ,CAAEW,cAAzE,CAAyF,OAAO,CAAEnB,OAAlG,EAHJ,GADJ,CAOH,CAED,cAAeH,CAAAA,GAAf","sourcesContent":["import Header from \"./components/Header\";\nimport ProductList from \"./components/ProductList\";\nimport {useMemo, useState, useEffect} from \"react\";\n\nimport axios from \"axios\";\n\nfunction App() {\n    // const [products, setProducts] = useState([\n    //     {\n    //         id: 1,\n    //         title: \"Египет\",\n    //         description: \"Идеальное место для дайвинга и прогулок по дюнам пустыни\",\n    //         image: \"https://avatars.mds.yandex.net/i?id=9b0ca528054c34d068267eef5f8b6205-5876357-images-thumbs&n=13&exp=1\",\n    //         price: 46250,\n    //         favorite: false\n    //     },\n    //     {\n    //         id: 2,\n    //         title: \"Мексика\",\n    //         description: \"Земля ацтеков и майя с древней культурой и пляжной идиллией\",\n    //         image: \"https://avatars.mds.yandex.net/i?id=72fff16b94bbee6b5793e7a632518669-5855963-images-thumbs&n=13&exp=1\",\n    //         price: 132000,\n    //         favorite: false\n    //     },\n    //     {\n    //         id: 3,\n    //         title: \"Мальдивы\",\n    //         description: \"Райские острова с подводными отелями и ресторанами\",\n    //         image: \"https://avatars.mds.yandex.net/i?id=4d9cc6cf0be8372f08c3fc9606bde842-5875471-images-thumbs&n=13&exp=1\",\n    //         price: 128950,\n    //         favorite: false\n    //     },\n    //     {\n    //         id: 4,\n    //         title: \"Индонезия\",\n    //         description: \"Тысячи островов для дайвинга, серфинга и райского наслаждения\",\n    //         image: \"https://avatars.mds.yandex.net/i?id=578df9b7146f19a1b292a0d6a507a3c7-5876724-images-thumbs&n=13&exp=1\",\n    //         price: 78964,\n    //         favorite: false\n    //     },\n    //     {\n    //         id: 5,\n    //         title: \"Чехия\",\n    //         description: \"Край лечебных вод и средневековых замков\",\n    //         image: \"https://avatars.mds.yandex.net/i?id=bbdfea158bba86b10ea3ea7785dbe494-4965879-images-thumbs&n=13&exp=1\",\n    //         price: 102130,\n    //         favorite: false\n    //     }\n    // ]);\n\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        const apiUrl = 'https://fakestoreapi.com/products?limit=8';\n        axios.get(apiUrl).then((resp) => {\n            const allPersons = resp.data;\n            setProducts(allPersons);\n            setLoading(true);\n        });\n    }, [setProducts]);\n\n    const favoriteProduct = (product) => {\n        let status = false;\n        if (product.favorite) {\n            status = false;\n        } else {\n            status = true;\n        }\n\n        setProducts(\n            products.map((item) =>\n                item.id === product.id\n                    ? {...item, favorite: status}\n                    : item\n            )\n        )\n    }\n\n    const removeProduct = (product) => {\n        setProducts(products.filter(p => p.id !== product.id))\n    }\n\n    const [filter, setFilter] = useState({status: false});\n\n    const sortedProducts = useMemo(() => {\n        if(filter.status === false) {\n            // console.warn(\"status 1 -\",filter.status);\n            return products;\n        } else {\n            // console.warn(\"status 2 -\",filter.status);\n            return products.filter(p => p.favorite === filter.status);\n        }\n    }, [filter.status, products]);\n\n    return (\n        <div className=\"App\">\n            <Header filter={filter} setFilter={setFilter}/>\n\n            <ProductList remove={removeProduct} favorite={favoriteProduct} products={sortedProducts} loading={loading}/>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}